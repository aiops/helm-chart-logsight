apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Chart.Name }}-config
data:
  LOGSIGHT_DEPLOYMENT: {{ .Values.logsight.backend.deployment | quote}}
  LOGSIGHT_URL: {{ .Values.logsight.backend.url | quote}}
  LOGSIGHT_EMAIL: {{ .Values.logsight.backend.email | quote}}
  LOGS_STREAM_ZMQ_PORT: {{ .Values.logsight.backend.logStreamZMQPort | quote}}
  KAFKA_SERVER:  {{ printf "%s:%v" .Values.logsight.connections.kafka.host .Values.logsight.connections.kafka.port | quote }}
  KAFKA_TOPIC: {{ .Values.logsight.connections.kafka.topic | quote}}
  LOG_SINK_CONNECTION: {{ .Values.logsight.backend.logSinkConnection | quote}}
  RESULT_API_SCHEME: {{ .Values.logsight.connections.resultApi.scheme | quote}}
  RESULT_API_HOST: {{ .Values.logsight.connections.resultApi.host | quote}}
  RESULT_API_PORT: {{ .Values.logsight.connections.resultApi.port | quote}}
  RESULT_API_COMPARE_PATH: {{ .Values.logsight.connections.resultApi.comparePath | quote}}
  SPRING_DATASOURCE_URL: {{ printf "jdbc:postgresql://%s:%v/%s" .Values.logsight.connections.postgres.host .Values.logsight.connections.postgres.port .Values.logsight.connections.postgres.db | quote }}
  SPRING_DATASOURCE_USERNAME: {{ .Values.logsight.connections.postgres.username | quote }}